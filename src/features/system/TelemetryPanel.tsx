'use client';import React, { useEffect, useState } from 'react';import { Activity, TrendingUp, TrendingDown, Minus, AlertCircle, Shield, Zap } from 'lucide-react';interface TelemetryPanelProps {  rejectionRate: number;  avgEntropy: number;  avgCoherence: number;  stability: number;  culturalScore: number;  recentRejections?: { reason: string }[];}export function TelemetryPanel({  rejectionRate,  avgEntropy,  avgCoherence,  stability,  culturalScore,  recentRejections = []}: TelemetryPanelProps) {    const getTrendIcon = (value: number) => {    if (value > 0.02) return <TrendingUp className="w-3 h-3 text-red-400" />;    if (value < -0.02) return <TrendingDown className="w-3 h-3 text-green-400" />;    return <Minus className="w-3 h-3 text-gray-400" />;  };    const getColorClass = (value: number, thresholds: { good: number; warning: number }) => {    if (value >= thresholds.good) return 'text-green-400';    if (value >= thresholds.warning) return 'text-yellow-400';    return 'text-red-400';  };    return (    <div className="bg-[#181818] border border-[#252525] rounded-lg p-3 text-[10px]">      <div className="flex items-center gap-2 mb-2">        <Activity className="w-3.5 h-3.5 text-purple-400" />        <span className="text-xs font-bold text-purple-400">TELEMETRY</span>      </div>            {/* Current Metrics */}      <div className="space-y-2 mb-3">        <div className="flex justify-between">          <span className="text-gray-400">Rejection Rate</span>          <span className={`font-mono ${getColorClass(1 - rejectionRate, { good: 0.95, warning: 0.8 })}`}>            {(rejectionRate * 100).toFixed(1)}%          </span>        </div>                <div className="flex justify-between">          <span className="text-gray-400">Avg Entropy</span>          <span className={`font-mono ${getColorClass(1 - avgEntropy, { good: 0.8, warning: 0.6 })}`}>            {(avgEntropy * 100).toFixed(1)}%          </span>        </div>                <div className="flex justify-between">          <span className="text-gray-400">Avg Coherence</span>          <span className={`font-mono ${getColorClass(avgCoherence, { good: 0.8, warning: 0.6 })}`}>            {(avgCoherence * 100).toFixed(1)}%          </span>        </div>                <div className="flex justify-between">          <span className="text-gray-400">Stability</span>          <span className={`font-mono ${getColorClass(stability, { good: 0.8, warning: 0.6 })}`}>            {(stability * 100).toFixed(1)}%          </span>        </div>                <div className="flex justify-between">          <span className="text-gray-400">Cultural Score</span>          <span className={`font-mono ${getColorClass(culturalScore, { good: 0.8, warning: 0.6 })}`}>            {(culturalScore * 100).toFixed(1)}%          </span>        </div>      </div>            {/* Recent Rejections */}      {recentRejections.length > 0 && (        <div className="border-t border-[#252525] pt-2">          <div className="flex items-center gap-1 text-[8px] text-gray-500 mb-1">            <AlertCircle className="w-2.5 h-2.5" />            <span>Recent Rejections</span>          </div>          <div className="space-y-1">            {recentRejections.slice(0, 3).map((r, i) => (              <div key={i} className="text-[7px] text-red-400/70 truncate">                {r.reason}              </div>            ))}          </div>        </div>      )}            {/* Health Indicator */}      <div className="mt-2 flex items-center gap-1">        <div className={`w-1.5 h-1.5 rounded-full ${          stability > 0.8 ? 'bg-green-500' :          stability > 0.6 ? 'bg-yellow-500' : 'bg-red-500'        } animate-pulse`} />        <span className="text-[7px] text-gray-500">          {stability > 0.8 ? 'Stable' : stability > 0.6 ? 'Degraded' : 'Unstable'}        </span>      </div>    </div>  );}